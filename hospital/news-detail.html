<!DOCTYPE html>
<html lang="en">

<head>

     <title>Maria Nilayam Hospital</title>
     <meta charset="UTF-8">
     <meta http-equiv="X-UA-Compatible" content="IE=Edge">
     <meta name="description" content="">
     <meta name="keywords" content="">
     <meta name="author" content="Toney Abraham">
     <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

     <link rel="stylesheet" href="css/bootstrap.min.css">
     <link rel="stylesheet" href="css/font-awesome.min.css">
     <link rel="stylesheet" href="css/animate.css">
     <link rel="stylesheet" href="css/owl.carousel.css">
     <link rel="stylesheet" href="css/owl.theme.default.min.css">

     <!-- custom css -->
     <link rel="stylesheet" href="css/custom.css">


     <!-- favicon -->
     <link rel="icon" href="images/logo.webp">

     <!-- MAIN CSS -->
     <link rel="stylesheet" href="css/style.css">

     <style>
          .news-detail {
               border: 1px solid #ddd;
               /* light border */
               padding: 20px;
               /* space inside */
               margin-bottom: 30px;
               /* space between news items */
               border-radius: 8px;
               /* rounded corners */
               background-color: #e9e9e9;
               /* optional white background */
               box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
               /* subtle shadow */
          }


          .news-image img {
               max-width: 70%;
               height: auto;
               margin-bottom: 15px;
               border-radius: 4px;
               box-shadow: 0px 0px 10px black;
          }
     </style>
</head>

<body id="top" data-spy="scroll" data-target=".navbar-collapse" data-offset="50">
     <!-- <section class="preloader">
        <div class="spinner">

            <span class="spinner-rotate"></span>

        </div>
    </section> -->
     <!-- HEADER -->
     <header>
          <div class="container">
               <div class="row">

                    <div class="col-md-4 col-sm-5">
                         <p style="font-weight: 500;">"We foster integrated health for all while empowering the
                              vulnerable, women and children"
                         </p>
                    </div>

                    <div class="col-md-8 col-sm-7 text-align-right">
                         <span class="phone-icon"><i class="fa fa-phone"></i><a href="tel:+04712266065">04712
                                   266065</a></span>
                         <span class="date-icon"><i class="fa fa-calendar-plus-o"></i>24/7</span>
                         <span class="email-icon"><i class="fa fa-envelope-o"></i> <a
                                   href="mailto:marianilayamhospital@gmail.com">marianilayamhospital@gmail.com</a></span>
                    </div>
               </div>
          </div>
     </header>


     <!-- MENU -->
     <section class="navbar navbar-default navbar-static-top" role="navigation">
          <div class="container">

               <div class="navbar-header">
                    <button class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                         <span class="icon icon-bar"></span>
                         <span class="icon icon-bar"></span>
                         <span class="icon icon-bar"></span>
                    </button>

                    <!-- lOGO TEXT HERE -->
                    <a href="index.html" class="navbar-brand">
                         <span><img src="images/logo.webp" alt="" class="logo"></span>
                    </a>
               </div>

               <!-- MENU LINKS -->
               <div class="collapse navbar-collapse">
                    <ul class="nav navbar-nav navbar-right">
                         <!-- <li><a href="#top" class="smoothScroll">Home</a></li> -->
                         <li><a href="index.html#doctors" class="smoothScroll">Doctors</a></li>
                         <li><a href="service.html" class="smoothScroll">Services</a></li>
                         <!-- <li><a href="news.html" class="smoothScroll">News</a></li> -->
                         <li><a href="index.html#google-map" class="smoothScroll">Contact</a></li>
                         <li><a href="about.html" class="smoothScroll">About Us</a></li>
                         <li class="appointment-btn"><a href="appointment.html">Make an appointment</a></li>
                    </ul>
               </div>
          </div>
     </section>


     <!-- NEWS DETAIL -->
     <section id="news-section" style="margin-top: 50px;">
          <!-- News items will be inserted here dynamically -->
     </section>

     <div id="footer"></div>

     <script type="module">
          import './js/footer-news.js';  

          fetch("footer.html")
               .then(res => res.text())
               .then(data => {
                    document.getElementById("footer").innerHTML = data;
               });
     </script>

     <!-- SCRIPTS -->
     <script src="js/jquery.js"></script>
     <script src="js/bootstrap.min.js"></script>
     <script src="js/jquery.sticky.js"></script>
     <script src="js/jquery.stellar.min.js"></script>
     <script src="js/wow.min.js"></script>
     <script src="js/smoothscroll.js"></script>
     <script src="js/owl.carousel.min.js"></script>
     <script src="js/custom.js"></script>
     <script type="module" src="js/firebase-config.js"></script>

     <!-- <script>
          fetch("footer.html")
               .then(res => res.text())
               .then(data => document.getElementById("footer").innerHTML = data);
     </script> -->

     <script type="module">
          import { db } from './js/firebase-config.js';
          import { collection, query, orderBy, onSnapshot } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore.js";

          const newsSection = document.getElementById("news-section");

          const q = query(collection(db, "news"), orderBy("createdAt", "desc"));

          onSnapshot(q, (snapshot) => {
               newsSection.innerHTML = ""; // clear previous content

               snapshot.forEach((docSnap) => {
                    const news = docSnap.data();
                    const formattedDate = news.selectedDate
                         ? new Date(news.selectedDate.seconds * 1000).toLocaleDateString()
                         : news.date || "";

                    const newsHTML = `
      <section class="news-detail" data-stellar-background-ratio="0.5">
        <div class="container">
          <div class="row">
            <div class="col-md-8 col-sm-7">
              <div class="news-detail-thumb">
                <div class="news-image">
                  ${news.imageUrl ? `<img src="${news.imageUrl}" class="img-responsive" alt="${news.title}">` : ""}
                </div>
              </div>
            </div>
            <div class="col-md-4 col-sm-5">
              <div class="news-sidebar">
                <div class="news-author">
                  <h4>Short Description</h4>
                  <p>${news.author || "Unknown Author"}</p>
                </div>
                <div class="recent-post">
                  <h4>DATE of Publication</h4>
                  <div class="media">
                    <div class="media-body">
                      <h4 class="media-heading">${formattedDate}</h4>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-md-12">
               <h3>${news.title || "No Title"}</h3>
               <p>${news.description || "No Description"}</p></div>
          </div>
        </div>
      </section>
    `;

                    newsSection.insertAdjacentHTML("beforeend", newsHTML);
               });
          });

     </script>


</body>

</html>